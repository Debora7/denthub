import{T as X,r as _,h as N,k as Y,o as d,f as n,a,u as o,w as g,F as p,Z as ee,b as e,q as y,n as x,e as h,i as U,p as P,d as j,t as c,s as te,x as se}from"./app-m8O9x8db.js";import{_ as le}from"./AuthenticatedLayout-oP7uY6wx.js";import{_ as O,a as oe}from"./Modal-90c__Ftz.js";import{_ as v}from"./InputError-mYeCkuLg.js";import{_ as r}from"./InputLabel-vZ1nCw19.js";import{P as ae}from"./PrimaryButton-D-IF3Vpv.js";import{_ as f}from"./TextInput-CdSXe7W9.js";import{_ as R}from"./NumberInput-DhAg5uvU.js";import{_ as T}from"./TextareaInput-DQQc-ID_.js";import{D as ie}from"./DangerButton-BeXBnfCZ.js";import{t as re}from"./toastr.min-sOBkje4z.js";import{_ as de}from"./ModalReview-C2_nYjY-.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-L9kXl_zd.js";import"./index-C1CPr9I7.js";const m=b=>(te("data-v-bd9b7e8b"),b=b(),se(),b),ce={class:"py-12"},ue={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},me={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},pe={class:"p-6 text-gray-900"},ve={key:0,class:"overflow-x-auto"},fe={class:"min-w-full divide-y divide-gray-200"},_e=m(()=>e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Medic "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Serviciul oferit "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Preț "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Adresa completă "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Oraș "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Județ "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acțiuni ")])],-1)),ye={class:"bg-white divide-y divide-gray-200"},xe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ge={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},he={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},we={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ke={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ve={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ce=["onClick"],Se=m(()=>e("i",{class:"fas fa-pencil"},null,-1)),$e=[Se],Ue=["onClick"],Pe=m(()=>e("i",{class:"fas fa-trash-alt"},null,-1)),Me=[Pe],De=["onClick"],Ie=m(()=>e("i",{class:"fas fa-star"},null,-1)),je=[Ie],ze={class:"d-flex justify-content-center align-items-center mt-4"},Ae={class:"pagination mb-0 custom-pagination"},Be=["onClick"],Ee=["value"],Fe=["value"],Ne={key:1},Oe={class:"p-6"},Re=m(()=>e("option",{value:""},"Selectează medicul",-1)),Te=["value"],Je={class:"mt-4 flex flex-col space-y-4"},Le={class:"flex space-x-4"},We={class:"flex-1"},qe={class:"flex-1"},Ze={class:"flex-1"},Ge=m(()=>e("option",{value:""},"Selectează timpul",-1)),He=["value"],Ke={class:"mt-4"},Qe={class:"mt-4 flex space-x-4"},Xe={class:"flex-1"},Ye=m(()=>e("option",{value:""},"Selectează județul",-1)),et=["value"],tt={class:"flex-1"},st=m(()=>e("option",{value:""},"Selectează orașul",-1)),lt=["value"],ot={class:"flex items-center justify-end mt-4"},at={class:"p-6"},it=m(()=>e("h2",{class:"text-lg font-medium text-gray-900"}," Ești sigur că vrei să ștergi următorul serviciu? ",-1)),rt={class:"mt-4 flex flex-col space-y-4"},dt={class:"flex space-x-4"},nt={class:"flex-1"},ct={class:"flex-1"},ut={class:"flex-1"},mt={class:"mt-4"},pt={class:"mt-4 flex space-x-4"},vt={class:"flex-1"},ft={class:"flex-1"},_t={class:"mt-6 flex justify-end"},yt={__name:"Dashboard",props:{consults:Array,counties:Array,doctors:Array},setup(b){const w=b,s=X({id:0,doctor:"",address:"",city:"",county:"",service:"",price:0,description:"",time:""}),z=_([]),J=i=>{s.doctor=i.doctor,s.address=i.address,s.city=i.city.name,s.county=i.county.name,s.service=i.service,s.price=parseFloat(i.price),s.description=i.description,s.id=i.id,s.time=parseInt(i.consult_time.split(":")[1],10),$.value=!0},L=i=>{z.value=i.reviews,M.value=!0},S=_(!1),$=_(!1),M=_(!1),u=_(1),A=[15,25,50,100],k=_(A[0]),B=N(()=>{const i=(u.value-1)*k.value,l=i+k.value;return w.consults.slice(i,l)}),V=N(()=>Math.ceil(w.consults.length/k.value)),C=i=>{i>=1&&i<=V.value&&(u.value=i)},W=i=>{k.value=parseInt(i.target.value),u.value=1},q=i=>{s.doctor=i.doctor_id,s.address=i.address,s.city=i.city_id,s.county=i.county_id,s.service=i.service,s.price=parseFloat(i.price),s.description=i.description,s.time=parseInt(i.consult_time.split(":")[1],10),s.id=i.id,S.value=!0},Z=()=>{S.value=!1},E=()=>{$.value=!1},G=()=>{M.value=!1},F=_([]),H=i=>{const l=w.counties.find(t=>t.id===i);F.value=l?l.cities:[]};Y(()=>s.county,i=>{H(i)});const K=()=>{s.put(route("consult.update",{id:s.id}),{preserveScroll:!0,data:{...s},onSuccess:()=>{s.reset(),S.value=!1,D("Serviciul a fost editat")},onError:()=>{D("Rezolvă problemele înainte de a salva.","error")}})},D=(i,l="success")=>{re[l](i)},Q=()=>{s.delete(route("consult.destroy"),{onFinish:()=>{s.reset(),$.value=!1,D("Serviciul a fost șters")}})};return(i,l)=>(d(),n(p,null,[a(o(ee),{title:"Servicii"}),a(le,null,{default:g(()=>[e("div",ce,[e("div",ue,[e("div",me,[e("div",pe,[B.value.length>0?(d(),n("div",ve,[e("table",fe,[_e,e("tbody",ye,[(d(!0),n(p,null,y(B.value,t=>(d(),n("tr",{key:t.id},[e("td",xe,c(t.doctor),1),e("td",ge,c(t.service),1),e("td",he,c(t.price)+" Lei ",1),e("td",be,c(t.address),1),e("td",we,c(t.city.name),1),e("td",ke,c(t.county.name),1),e("td",Ve,[e("button",{type:"button",onClick:I=>q(t),class:"inline-flex items-center justify-center text-center p-2 bg-yellow-500 border border-transparent rounded-full text-white hover:bg-yellow-700 active:bg-yellow-900 focus:outline-none focus:border-yellow-900 focus:shadow-outline-yellow transition ease-in-out duration-150 ml-2"},$e,8,Ce),e("button",{type:"button",onClick:I=>J(t),class:"inline-flex items-center justify-center text-center p-2 bg-red-500 border border-transparent rounded-full text-white hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-red transition ease-in-out duration-150 ml-2"},Me,8,Ue),e("button",{type:"button",onClick:I=>L(t),class:"inline-flex items-center justify-center text-center p-2 bg-blue-500 border border-transparent rounded-full text-white hover:bg-blue-700 active:bg-blue-900 focus:outline-none focus:border-blue-900 focus:shadow-outline-blue transition ease-in-out duration-150 ml-2"},je,8,De)])]))),128))])]),e("nav",ze,[e("ul",Ae,[e("li",{class:x(["page-item",{disabled:u.value===1}])},[e("a",{class:"page-link",href:"#",onClick:l[0]||(l[0]=h(t=>C(1),["prevent"]))}," << ")],2),e("li",{class:x(["page-item",{disabled:u.value===1}])},[e("a",{class:"page-link",href:"#",onClick:l[1]||(l[1]=h(t=>C(u.value-1),["prevent"]))}," < ")],2),(d(!0),n(p,null,y(V.value,t=>(d(),n("li",{class:x(["page-item",{active:t===u.value}]),key:t},[e("a",{class:"page-link",href:"#",onClick:h(I=>C(t),["prevent"])},c(t),9,Be)],2))),128)),e("li",{class:x(["page-item",{disabled:u.value===V.value}])},[e("a",{class:"page-link",href:"#",onClick:l[2]||(l[2]=h(t=>C(u.value+1),["prevent"]))}," > ")],2),e("li",{class:x(["page-item",{disabled:u.value===V.value}])},[e("a",{class:"page-link",href:"#",onClick:l[3]||(l[3]=h(t=>C(V.value),["prevent"]))}," >> ")],2)]),e("select",{class:"form-select form-select-sm ms-3",onChange:W,value:k.value,style:{width:"auto"}},[(d(),n(p,null,y(A,t=>e("option",{key:t,value:t},c(t),9,Fe)),64))],40,Ee)])])):(d(),n("div",Ne," Nu sunt înregistrate servicii momentan. "))])])])]),a(O,{show:S.value,onClose:Z,maxWidth:i.lg},{default:g(()=>[e("div",Oe,[e("form",{onSubmit:h(K,["prevent"])},[e("div",null,[a(r,{for:"doctor",value:"Medic"}),U(e("select",{id:"doctor",class:"mt-1 block w-full","onUpdate:modelValue":l[4]||(l[4]=t=>o(s).doctor=t),style:{"border-radius":"5px","border-color":"lightgray"}},[Re,(d(!0),n(p,null,y(w.doctors,t=>(d(),n("option",{key:t.id,value:t.id},c(t.name),9,Te))),128))],512),[[P,o(s).doctor]]),a(v,{class:"mt-2",message:o(s).errors.doctor},null,8,["message"])]),e("div",Je,[e("div",Le,[e("div",We,[a(r,{for:"service",value:"Serviciul oferit"}),a(f,{id:"service",type:"text",class:"mt-1 block w-full",modelValue:o(s).service,"onUpdate:modelValue":l[5]||(l[5]=t=>o(s).service=t)},null,8,["modelValue"]),a(v,{class:"mt-2",message:o(s).errors.service},null,8,["message"])]),e("div",qe,[a(r,{for:"price",value:"Preț"}),a(R,{id:"price",type:"number",step:"0.10",class:"mt-1 block w-full",modelValue:o(s).price,"onUpdate:modelValue":l[6]||(l[6]=t=>o(s).price=t)},null,8,["modelValue"]),a(v,{class:"mt-2",message:o(s).errors.price},null,8,["message"])]),e("div",Ze,[a(r,{for:"time",value:"Timp (minute)"}),U(e("select",{id:"time",class:"mt-1 block w-full","onUpdate:modelValue":l[7]||(l[7]=t=>o(s).time=t),style:{"border-radius":"5px","border-color":"lightgray"}},[Ge,(d(),n(p,null,y(60,t=>e("option",{key:t,value:t},c(t),9,He)),64))],512),[[P,o(s).time]]),a(v,{class:"mt-2",message:o(s).errors.time},null,8,["message"])])]),e("div",null,[a(r,{for:"description",value:"Descrierea serviciului"}),a(T,{id:"description",type:"textarea",class:"mt-1 block w-full",modelValue:o(s).description,"onUpdate:modelValue":l[8]||(l[8]=t=>o(s).description=t)},null,8,["modelValue"]),a(v,{class:"mt-2",message:o(s).errors.description},null,8,["message"])])]),e("div",Ke,[a(r,{for:"address",value:"Adresa completă"}),a(f,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:o(s).address,"onUpdate:modelValue":l[9]||(l[9]=t=>o(s).address=t)},null,8,["modelValue"]),a(v,{class:"mt-2",message:o(s).errors.address},null,8,["message"])]),e("div",Qe,[e("div",Xe,[a(r,{for:"county",value:"Județ"}),U(e("select",{id:"county",class:"mt-1 block w-full","onUpdate:modelValue":l[10]||(l[10]=t=>o(s).county=t),style:{"border-radius":"5px","border-color":"lightgray"}},[Ye,(d(!0),n(p,null,y(w.counties,t=>(d(),n("option",{key:t.id,value:t.id},c(t.name),9,et))),128))],512),[[P,o(s).county]]),a(v,{class:"mt-2",message:o(s).errors.county},null,8,["message"])]),e("div",tt,[a(r,{for:"city",value:"Oraș"}),U(e("select",{id:"city",class:"mt-1 block w-full","onUpdate:modelValue":l[11]||(l[11]=t=>o(s).city=t),style:{"border-radius":"5px","border-color":"lightgray"}},[st,(d(!0),n(p,null,y(F.value,t=>(d(),n("option",{key:t.id,value:t.id},c(t.name),9,lt))),128))],512),[[P,o(s).city]]),a(v,{class:"mt-2",message:o(s).errors.city},null,8,["message"])])]),e("div",ot,[a(ae,{class:x(["ms-4",{"opacity-25":o(s).processing}]),disabled:o(s).processing},{default:g(()=>[j(" Salvează ")]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show","maxWidth"]),a(O,{show:$.value,onClose:E},{default:g(()=>[e("header",null,[e("div",at,[it,e("form",null,[e("div",null,[a(r,{for:"doctor",value:"Medic"}),a(f,{id:"doctor",type:"text",class:"mt-1 block w-full",modelValue:o(s).doctor,"onUpdate:modelValue":l[12]||(l[12]=t=>o(s).doctor=t),readonly:"",autofocus:""},null,8,["modelValue"])]),e("div",rt,[e("div",dt,[e("div",nt,[a(r,{for:"service",value:"Serviciul oferit"}),a(f,{id:"service",type:"text",class:"mt-1 block w-full",modelValue:o(s).service,"onUpdate:modelValue":l[13]||(l[13]=t=>o(s).service=t),readonly:""},null,8,["modelValue"])]),e("div",ct,[a(r,{for:"price",value:"Preț"}),a(R,{id:"price",type:"number",step:"0.10",class:"mt-1 block w-full",modelValue:o(s).price,"onUpdate:modelValue":l[14]||(l[14]=t=>o(s).price=t),readonly:""},null,8,["modelValue"])]),e("div",ut,[a(r,{for:"time",value:"Timp (minute)"}),a(f,{id:"time",type:"text",class:"mt-1 block w-full",modelValue:o(s).time,"onUpdate:modelValue":l[15]||(l[15]=t=>o(s).time=t),readonly:""},null,8,["modelValue"])])]),e("div",null,[a(r,{for:"description",value:"Descrierea serviciului"}),a(T,{id:"description",type:"textarea",class:"mt-1 block w-full",modelValue:o(s).description,"onUpdate:modelValue":l[16]||(l[16]=t=>o(s).description=t),readonly:""},null,8,["modelValue"])])]),e("div",mt,[a(r,{for:"address",value:"Adresa completă"}),a(f,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:o(s).address,"onUpdate:modelValue":l[17]||(l[17]=t=>o(s).address=t),readonly:""},null,8,["modelValue"])]),e("div",pt,[e("div",vt,[a(r,{for:"county",value:"Județ"}),a(f,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:o(s).county,"onUpdate:modelValue":l[18]||(l[18]=t=>o(s).county=t),readonly:""},null,8,["modelValue"])]),e("div",ft,[a(r,{for:"city",value:"Oraș"}),a(f,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:o(s).city,"onUpdate:modelValue":l[19]||(l[19]=t=>o(s).city=t),readonly:""},null,8,["modelValue"])])]),e("div",_t,[a(ie,{class:x({"opacity-25":o(s).processing}),disabled:o(s).processing,onClick:Q},{default:g(()=>[j(" Șterge ")]),_:1},8,["class","disabled"]),a(oe,{onClick:E,class:"ms-3"},{default:g(()=>[j(" Închide ")]),_:1})])])])])]),_:1},8,["show"]),a(de,{show:M.value,reviews:z.value,onClose:G},null,8,["show","reviews"])]),_:1})],64))}},jt=ne(yt,[["__scopeId","data-v-bd9b7e8b"]]);export{jt as default};
