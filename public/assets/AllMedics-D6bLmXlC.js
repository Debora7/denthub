import{r as D,T as J,h as N,o as l,f as i,a as r,u as o,w as g,F as _,Z as R,b as e,q as v,n as p,e as h,d as C,t as c,i as P,v as Z,m as U,g as G,s as H,x as K}from"./app-m8O9x8db.js";import{_ as Q}from"./AuthenticatedLayout-oP7uY6wx.js";import{_ as I,a as W}from"./Modal-90c__Ftz.js";import{_ as B}from"./InputError-mYeCkuLg.js";import{_ as E}from"./InputLabel-vZ1nCw19.js";import{P as X}from"./PrimaryButton-D-IF3Vpv.js";import{_ as Y}from"./TextInput-CdSXe7W9.js";import{t as ee}from"./toastr.min-sOBkje4z.js";import{D as te}from"./DangerButton-BeXBnfCZ.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-L9kXl_zd.js";const M=f=>(H("data-v-f2c572b9"),f=f(),K(),f),oe={class:"py-12"},ae={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},le={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ie={class:"p-6 text-gray-900"},ne={key:0,class:"overflow-x-auto"},re={class:"min-w-full divide-y divide-gray-200"},ce=M(()=>e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Medic "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Program "),e("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Acțiuni ")])],-1)),de={class:"bg-white divide-y divide-gray-200"},ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},me={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},_e={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},pe=["onClick"],fe=M(()=>e("i",{class:"fas fa-pencil"},null,-1)),ge=[fe],ve=["onClick"],he=M(()=>e("i",{class:"fas fa-trash-alt"},null,-1)),ye=[he],ke={class:"d-flex justify-content-center align-items-center mt-4"},we={class:"pagination mb-0 custom-pagination"},xe=["onClick"],be=["value"],De=["value"],Ce={key:1},Me={class:"p-6"},Ve={class:"mt-4"},Pe={class:"flex items-center"},$e=["id","onUpdate:modelValue"],Se=["for"],je={key:0,class:"flex mt-2 space-x-4"},Ne=["onUpdate:modelValue"],Ue=["onUpdate:modelValue"],Ie={class:"flex items-center justify-end mt-4"},Be={class:"p-6"},Ee=M(()=>e("h2",{class:"text-lg font-medium text-gray-900"}," Ești sigur că vrei să ștergi următorul medic? ",-1)),Ae={class:"mt-4"},ze={class:"mt-1 block w-full text-gray-700 font-semibold"},Fe={class:"text-gray-700"},Oe={key:0},Te={key:1},Le={class:"mt-6 flex justify-end"},qe={__name:"AllMedics",props:{doctors:Array},setup(f){const $=f,x=D(!1),b=D(!1),d=D(1),S=[15,25,50,100],y=D(S[0]),s=J({doctor:"",workingDays:{Luni:{enabled:!1,start_time:"",end_time:""},Marți:{enabled:!1,start_time:"",end_time:""},Miercuri:{enabled:!1,start_time:"",end_time:""},Joi:{enabled:!1,start_time:"",end_time:""},Vineri:{enabled:!1,start_time:"",end_time:""},Sâmbătă:{enabled:!1,start_time:"",end_time:""},Duminică:{enabled:!1,start_time:"",end_time:""}},id:"",errors:{doctor:"",workingDays:""}}),A=N(()=>{const a=(d.value-1)*y.value,n=a+y.value;return $.doctors.slice(a,n)}),k=N(()=>Math.ceil($.doctors.length/y.value)),w=a=>{a>=1&&a<=k.value&&(d.value=a)},z=a=>{y.value=parseInt(a.target.value),d.value=1},F=()=>{x.value=!1},j=()=>{b.value=!1},O=a=>{s.id=a.id,s.doctor=a.name,s.workingDays={...s.workingDays,...a.working_days_modified},x.value=!0},T=a=>{s.id=a.id,s.doctor=a.name,s.workingDays={...s.workingDays,...a.working_days_modified},b.value=!0},L=()=>{s.put(route("consult.medic.update",{id:s.id}),{preserveScroll:!0,data:{...s},onSuccess:()=>{s.reset(),x.value=!1,V("Medicul a fost salvat")},onError:()=>{V("Rezolvă problemele înainte de a salva.","error")}})},V=(a,n="success")=>{ee[n](a)},q=()=>{s.delete(route("consult.medic.destroy"),{onFinish:()=>{s.reset(),b.value=!1,V("Medicul a fost șters")}})};return(a,n)=>(l(),i(_,null,[r(o(R),{title:"Servicii"}),r(Q,null,{default:g(()=>[e("div",oe,[e("div",ae,[e("div",le,[e("div",ie,[f.doctors.length>0?(l(),i("div",ne,[e("table",re,[ce,e("tbody",de,[(l(!0),i(_,null,v(A.value,t=>(l(),i("tr",{key:t.id},[e("td",ue,c(t.name),1),e("td",me,[(l(!0),i(_,null,v(t.working_days_modified,(u,m)=>(l(),i("p",{key:m},c(m)+": "+c(u.start_time)+" - "+c(u.end_time),1))),128))]),e("td",_e,[e("button",{type:"button",onClick:u=>O(t),class:"inline-flex items-center justify-center text-center p-2 bg-yellow-500 border border-transparent rounded-full text-white hover:bg-yellow-700 active:bg-yellow-900 focus:outline-none focus:border-yellow-900 focus:shadow-outline-yellow transition ease-in-out duration-150 ml-2"},ge,8,pe),e("button",{type:"button",onClick:u=>T(t),class:"inline-flex items-center justify-center text-center p-2 bg-red-500 border border-transparent rounded-full text-white hover:bg-red-700 active:bg-red-900 focus:outline-none focus:border-red-900 focus:shadow-outline-red transition ease-in-out duration-150 ml-2"},ye,8,ve)])]))),128))])]),e("nav",ke,[e("ul",we,[e("li",{class:p(["page-item",{disabled:d.value===1}])},[e("a",{class:"page-link",href:"#",onClick:n[0]||(n[0]=h(t=>w(1),["prevent"]))},"<<")],2),e("li",{class:p(["page-item",{disabled:d.value===1}])},[e("a",{class:"page-link",href:"#",onClick:n[1]||(n[1]=h(t=>w(d.value-1),["prevent"]))},"<")],2),(l(!0),i(_,null,v(k.value,t=>(l(),i("li",{class:p(["page-item",{active:t===d.value}]),key:t},[e("a",{class:"page-link",href:"#",onClick:h(u=>w(t),["prevent"])},c(t),9,xe)],2))),128)),e("li",{class:p(["page-item",{disabled:d.value===k.value}])},[e("a",{class:"page-link",href:"#",onClick:n[2]||(n[2]=h(t=>w(d.value+1),["prevent"]))},">")],2),e("li",{class:p(["page-item",{disabled:d.value===k.value}])},[e("a",{class:"page-link",href:"#",onClick:n[3]||(n[3]=h(t=>w(k.value),["prevent"]))},">>")],2)]),e("select",{class:"form-select form-select-sm ms-3",onChange:z,value:y.value,style:{width:"auto"}},[(l(),i(_,null,v(S,t=>e("option",{key:t,value:t},c(t),9,De)),64))],40,be)])])):(l(),i("div",Ce,"Nu sunt înregistrați medici momentan."))])])])]),r(I,{show:x.value,onClose:F},{default:g(()=>[e("div",Me,[e("form",{onSubmit:h(L,["prevent"])},[e("div",null,[r(E,{for:"doctor",value:"Nume complet"}),r(Y,{id:"doctor",type:"text",class:"mt-1 block w-full",modelValue:o(s).doctor,"onUpdate:modelValue":n[4]||(n[4]=t=>o(s).doctor=t),autofocus:""},null,8,["modelValue"]),r(B,{class:"mt-2",message:o(s).errors.doctor},null,8,["message"])]),e("div",Ve,[r(E,{for:"workingDays",value:"Programul de lucru"}),(l(!0),i(_,null,v(Object.keys(o(s).workingDays),(t,u)=>(l(),i("div",{key:u,class:"mt-4"},[e("div",Pe,[P(e("input",{type:"checkbox",id:t,"onUpdate:modelValue":m=>o(s).workingDays[t].enabled=m,class:"form-checkbox h-5 w-5 text-indigo-600"},null,8,$e),[[Z,o(s).workingDays[t].enabled]]),e("label",{for:t,class:"ml-3 block text-sm font-medium text-gray-700"},c(t),9,Se)]),o(s).workingDays[t].enabled?(l(),i("div",je,[P(e("input",{type:"time","onUpdate:modelValue":m=>o(s).workingDays[t].start_time=m,class:"form-input block w-full sm:text-sm border-gray-300 rounded-md"},null,8,Ne),[[U,o(s).workingDays[t].start_time]]),P(e("input",{type:"time","onUpdate:modelValue":m=>o(s).workingDays[t].end_time=m,class:"form-input block w-full sm:text-sm border-gray-300 rounded-md"},null,8,Ue),[[U,o(s).workingDays[t].end_time]])])):G("",!0)]))),128)),r(B,{class:"mt-2",message:o(s).errors.workingDays},null,8,["message"])]),e("div",Ie,[r(X,{class:p(["ms-4",{"opacity-25":o(s).processing}]),disabled:o(s).processing},{default:g(()=>[C("Salvează")]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show"]),r(I,{show:b.value,onClose:j},{default:g(()=>[e("header",null,[e("div",Be,[Ee,e("div",Ae,[e("p",ze,c(o(s).doctor),1)]),e("div",null,[(l(!0),i(_,null,v(Object.keys(o(s).workingDays),(t,u)=>(l(),i("div",{key:u,class:"mt-2"},[e("p",Fe,[C(c(t)+": ",1),o(s).workingDays[t].enabled?(l(),i("span",Oe,c(o(s).workingDays[t].start_time)+" - "+c(o(s).workingDays[t].end_time),1)):(l(),i("span",Te,"-"))])]))),128))]),e("div",Le,[r(te,{class:p({"opacity-25":o(s).processing}),disabled:o(s).processing,onClick:q},{default:g(()=>[C(" Șterge ")]),_:1},8,["class","disabled"]),r(W,{onClick:j,class:"ms-3"},{default:g(()=>[C(" Închide ")]),_:1})])])])]),_:1},8,["show"])]),_:1})],64))}},tt=se(qe,[["__scopeId","data-v-f2c572b9"]]);export{tt as default};
